<ng-container *ngIf="(value !== null ? value : loader.progress$|async) as progress">
  <div id="loading-bar-spinner" *ngIf="includeSpinner" [style.color]="color">
    <div [style.width]="diameter" [style.height]="diameter" class="spinner-icon"></div>
  </div>
  <div id="loading-bar" *ngIf="includeBar" [style.color]="color">
    <div class="bar" [style.background]="color" [style.height]="height" [style.width]="progress + '%'">
      <div class="peg" [style.height]="height"></div>
    </div>
  </div>
</ng-container>
